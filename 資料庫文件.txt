CREATE DATABASE Reminder;

USE Reminder;

CREATE TABLE USERS(ID INT IDENTITY(1,1) PRIMARY KEY, UserName VARCHAR(200),Email VARCHAR(200),Password VARCHAR(200))

CREATE PROC bo_register(@Username VARCHAR(100),@Email VARCHAR(100),@Password VARCHAR(100),@ErrorMessage VARCHAR(200) OUTPUT)
AS
BEGIN

	IF NOT　EXISTS(SELECT 1 FROM USERS WHERE Email = @Email)
	BEGIN
		INSERT INTO USERS(Username,Email,Password) VALUES(@Username,@Email,@Password);
		SET @ErrorMessage = '使用者創建成功';
	END
	ELSE
	BEGIN
		SET @ErrorMessage = '使用者已使用此Email註冊過';
	END


END

CREATE PROC bo_Login(@Email VARCHAR(100),@Password VARCHAR(100))
AS
BEGIN
	SELECT *FROM USERS WHERE Email = @Email AND Password = @Password;
END